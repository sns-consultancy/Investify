{"ast":null,"code":"var _jsxFileName = \"/Users/bosurambitra/Desktop/Investify1.0/src/components/UpgradeModal.js\";\nimport React from \"react\";\nimport styles from \"../styles/UpgradeModal.module.css\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { X } from \"lucide-react\";\nimport plans from \"../config/pricing\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function UpgradeModal({\n  isOpen,\n  onClose\n}) {\n  const handleUpgrade = async priceId => {\n    try {\n      const res = await fetch(\"/api/stripe/create-checkout-session\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          priceId,\n          userId: localStorage.getItem(\"userId\")\n        })\n      });\n      const data = await res.json();\n      if (data !== null && data !== void 0 && data.url) {\n        window.location.href = data.url;\n      } else {\n        throw new Error(\"No checkout URL returned\");\n      }\n    } catch (err) {\n      console.error(err);\n      alert(\"Failed to start checkout.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(AnimatePresence, {\n    children: isOpen && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        className: styles.overlay,\n        initial: {\n          opacity: 0\n        },\n        animate: {\n          opacity: 1\n        },\n        exit: {\n          opacity: 0\n        },\n        onClick: onClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        className: styles.modal,\n        initial: {\n          opacity: 0,\n          scale: 0.95\n        },\n        animate: {\n          opacity: 1,\n          scale: 1\n        },\n        exit: {\n          opacity: 0,\n          scale: 0.95\n        },\n        transition: {\n          duration: 0.2\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.closeButton,\n          onClick: onClose,\n          \"aria-label\": \"Close\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: styles.title,\n          children: \"Upgrade Your Plan\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.description,\n          children: \"Choose a plan to unlock premium features and grow your health journey.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.plans,\n          children: Array.isArray(plans) && plans.length > 0 ? plans.filter(plan => plan.price > 0).map(plan => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.plan,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: plan.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: styles.price,\n              children: [\"$\", plan.price, \"/month\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: styles.planDescription,\n              children: plan.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: styles.features,\n              children: Array.isArray(plan.features) && plan.features.map((feature, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"\\u2705 \", feature]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 29\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleUpgrade(plan.stripePriceId),\n              className: styles.upgradeButton,\n              children: [\"Upgrade to \", plan.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 23\n            }, this)]\n          }, plan.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 21\n          }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: styles.noPlans,\n            children: \"No plans available.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n_c = UpgradeModal;\nvar _c;\n$RefreshReg$(_c, \"UpgradeModal\");","map":{"version":3,"names":["React","styles","motion","AnimatePresence","X","plans","jsxDEV","_jsxDEV","Fragment","_Fragment","UpgradeModal","isOpen","onClose","handleUpgrade","priceId","res","fetch","method","headers","body","JSON","stringify","userId","localStorage","getItem","data","json","url","window","location","href","Error","err","console","error","alert","children","div","className","overlay","initial","opacity","animate","exit","onClick","fileName","_jsxFileName","lineNumber","columnNumber","modal","scale","transition","duration","closeButton","size","title","description","Array","isArray","length","filter","plan","price","map","name","planDescription","features","feature","idx","stripePriceId","upgradeButton","id","noPlans","_c","$RefreshReg$"],"sources":["/Users/bosurambitra/Desktop/Investify1.0/src/components/UpgradeModal.js"],"sourcesContent":["import React from \"react\";\nimport styles from \"../styles/UpgradeModal.module.css\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { X } from \"lucide-react\";\nimport plans from \"../config/pricing\";\n\nexport default function UpgradeModal({ isOpen, onClose }) {\n  const handleUpgrade = async (priceId) => {\n    try {\n      const res = await fetch(\"/api/stripe/create-checkout-session\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          priceId,\n          userId: localStorage.getItem(\"userId\"),\n        }),\n      });\n\n      const data = await res.json();\n      if (data?.url) {\n        window.location.href = data.url;\n      } else {\n        throw new Error(\"No checkout URL returned\");\n      }\n    } catch (err) {\n      console.error(err);\n      alert(\"Failed to start checkout.\");\n    }\n  };\n\n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <>\n          {/* Overlay */}\n          <motion.div\n            className={styles.overlay}\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            onClick={onClose}\n          />\n\n          {/* Modal */}\n          <motion.div\n            className={styles.modal}\n            initial={{ opacity: 0, scale: 0.95 }}\n            animate={{ opacity: 1, scale: 1 }}\n            exit={{ opacity: 0, scale: 0.95 }}\n            transition={{ duration: 0.2 }}\n          >\n            <button\n              className={styles.closeButton}\n              onClick={onClose}\n              aria-label=\"Close\"\n            >\n              <X size={20} />\n            </button>\n\n            <h2 className={styles.title}>Upgrade Your Plan</h2>\n            <p className={styles.description}>\n              Choose a plan to unlock premium features and grow your health journey.\n            </p>\n\n            <div className={styles.plans}>\n              {Array.isArray(plans) && plans.length > 0 ? (\n                plans\n                  .filter((plan) => plan.price > 0)\n                  .map((plan) => (\n                    <div key={plan.id} className={styles.plan}>\n                      <h3>{plan.name}</h3>\n                      <p className={styles.price}>${plan.price}/month</p>\n                      <p className={styles.planDescription}>{plan.description}</p>\n                      <ul className={styles.features}>\n                        {Array.isArray(plan.features) &&\n                          plan.features.map((feature, idx) => (\n                            <li key={idx}>âœ… {feature}</li>\n                          ))}\n                      </ul>\n                      <button\n                        onClick={() => handleUpgrade(plan.stripePriceId)}\n                        className={styles.upgradeButton}\n                      >\n                        Upgrade to {plan.name}\n                      </button>\n                    </div>\n                  ))\n              ) : (\n                <p className={styles.noPlans}>No plans available.</p>\n              )}\n            </div>\n          </motion.div>\n        </>\n      )}\n    </AnimatePresence>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}