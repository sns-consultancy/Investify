{"ast":null,"code":"var _jsxFileName = \"/Users/bosurambitra/Desktop/Investify1.0/src/pages/InvestChatbot.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = process.env.REACT_APP_API_URL;\nfunction InvestChatbot() {\n  _s();\n  const [input, setInput] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const chatEndRef = useRef(null);\n  useEffect(() => {\n    var _chatEndRef$current;\n    (_chatEndRef$current = chatEndRef.current) === null || _chatEndRef$current === void 0 ? void 0 : _chatEndRef$current.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [messages]);\n  const handleSend = async () => {\n    if (!input.trim()) return;\n    const userMsg = {\n      sender: \"user\",\n      text: input\n    };\n    setMessages(prev => [...prev, userMsg]);\n    setLoading(true);\n    try {\n      const res = await axios.post(`${API}/chatbot`, {\n        message: input\n      }, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const botMsg = {\n        sender: \"bot\",\n        text: res.data.reply\n      };\n      setMessages(prev => [...prev, botMsg]);\n    } catch (error) {\n      console.error(\"Chatbot error:\", error);\n      setMessages(prev => [...prev, {\n        sender: \"bot\",\n        text: \"Sorry, something went wrong.\"\n      }]);\n    } finally {\n      setLoading(false);\n      setInput(\"\");\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === \"Enter\") handleSend();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Invest Chatbot\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-box\",\n      role: \"log\",\n      \"aria-live\": \"polite\",\n      children: [messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `message ${msg.sender}`,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: msg.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, this)\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this)), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message bot\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Typing...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: chatEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-input\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: input,\n        onChange: e => setInput(e.target.value),\n        onKeyDown: handleKeyPress,\n        placeholder: \"Ask something...\",\n        \"aria-label\": \"Chat input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSend,\n        disabled: loading,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n_s(InvestChatbot, \"yap0Sz0cY3kqr2QGx4L/CiywDLE=\");\n_c = InvestChatbot;\nexport default InvestChatbot;\nvar _c;\n$RefreshReg$(_c, \"InvestChatbot\");","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","jsxDEV","_jsxDEV","API","process","env","REACT_APP_API_URL","InvestChatbot","_s","input","setInput","messages","setMessages","loading","setLoading","chatEndRef","_chatEndRef$current","current","scrollIntoView","behavior","handleSend","trim","userMsg","sender","text","prev","res","post","message","headers","botMsg","data","reply","error","console","handleKeyPress","e","key","className","children","fileName","_jsxFileName","lineNumber","columnNumber","role","map","msg","idx","ref","type","value","onChange","target","onKeyDown","placeholder","onClick","disabled","_c","$RefreshReg$"],"sources":["/Users/bosurambitra/Desktop/Investify1.0/src/pages/InvestChatbot.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport axios from \"axios\";\nconst API = process.env.REACT_APP_API_URL;\nfunction InvestChatbot() {\n  const [input, setInput] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const chatEndRef = useRef(null);\n  useEffect(() => {\n    chatEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [messages]);\n  const handleSend = async () => {\n    if (!input.trim()) return;\n    const userMsg = { sender: \"user\", text: input };\n    setMessages((prev) => [...prev, userMsg]);\n    setLoading(true);\n    try {\n      const res = await axios.post(`${API}/chatbot`, { message: input }, {\n        headers: { \"Content-Type\": \"application/json\" }\n      });\n      const botMsg = { sender: \"bot\", text: res.data.reply };\n      setMessages((prev) => [...prev, botMsg]);\n    } catch (error) {\n      console.error(\"Chatbot error:\", error);\n      setMessages((prev) => [...prev, { sender: \"bot\", text: \"Sorry, something went wrong.\" }]);\n    } finally {\n      setLoading(false);\n      setInput(\"\");\n    }\n  };\n  const handleKeyPress = (e) => {\n    if (e.key === \"Enter\") handleSend();\n  };\n  return (\n    <div className=\"chat-container\">\n      <h2>Invest Chatbot</h2>\n      <div className=\"chat-box\" role=\"log\" aria-live=\"polite\">\n        {messages.map((msg, idx) => (\n          <div key={idx} className={`message ${msg.sender}`}>\n            <span>{msg.text}</span>\n          </div>\n        ))}\n        {loading && <div className=\"message bot\"><span>Typing...</span></div>}\n        <div ref={chatEndRef} />\n      </div>\n      <div className=\"chat-input\">\n        <input\n          type=\"text\"\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          onKeyDown={handleKeyPress}\n          placeholder=\"Ask something...\"\n          aria-label=\"Chat input\"\n        />\n        <button onClick={handleSend} disabled={loading}>Send</button>\n      </div>\n    </div>\n  );\n}\nexport default InvestChatbot;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}